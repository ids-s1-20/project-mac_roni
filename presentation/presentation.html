<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>How do the amenities impact the flight’s overall rating?</title>
    <meta charset="utf-8" />
    <meta name="author" content="macaRoni   Sophie Kerfoot, Ben Thamm, Henrich Hegedus, Purvi Harwani" />
<<<<<<< HEAD
    <meta name="date" content="2020-11-29" />
=======
    <meta name="date" content="2020-11-30" />
>>>>>>> e6a3165f5511d6fd2db7d5dc922703fd4762a186
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# How do the amenities impact the flight’s overall rating?
## By cabin, seat, lounge and over time
### macaRoni <br> Sophie Kerfoot, Ben Thamm, Henrich Hegedus, Purvi Harwani
### University of Edinburgh
<<<<<<< HEAD
### 2020-11-29
=======
### 2020-11-30
>>>>>>> e6a3165f5511d6fd2db7d5dc922703fd4762a186

---










class: center, middle

## Main Goal: To find the amenities that impact a flight's overall rating (Cabin, Seat, Lounge &amp; Over Time) 

---

class: inverse, center, middle

## Dataset for our project

---

# Our Dataset: Skytrax User Reviews!

.pull-left[
3 datasets (Airline ratings, Seat ratings and Lounge ratings) from a Skytrax User Reviews Dataset (published August 2nd, 2015).
- Compiled as a Github Repository by quankiquanki

Each dataset has 20 variables, and the number of observations vary depending on the dataset.

- Columns: Airline Information, Author Information, Overall Rating, Contributors to the overall rating

- Observations : each observation is a passenger that filled out a survey based on their experience of the airline, lounge or seat. 
]

.pull-right[
&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="https://www.researchgate.net/profile/Hak_Seon_Kim/publication/336240340/figure/fig1/AS:809950729232385@1570118710905/Airline-passengers-review-on-Skytrax.png" alt="Image credit: Photo by Hak-Seon Kim on ResearchGate. Example of a Seat Review." width="60%" /&gt;
&lt;p class="caption"&gt;Image credit: Photo by Hak-Seon Kim on ResearchGate. Example of a Seat Review.&lt;/p&gt;
&lt;/div&gt;
]
---

class: inverse, center, middle

## Question 1
# How does the overall ratings for airlines change depending on the time of the year?

---

# Assumptions



1. Time only ranges from 2014 to 2015 due to lack of data points for other years (n &gt; 1500 observations)

2. Overall ratings averaged by date and airline name to avoid multiple data points for the same day

3. Focus was put on the top five airlines that had the highest overall ratings


```
## # A tibble: 6 x 3
##   airline_name     mean_overall_rating     n
##   &lt;chr&gt;                          &lt;dbl&gt; &lt;int&gt;
## 1 asiana-airlines                 8.35   301
## 2 garuda-indonesia                8.31   351
## 3 air-astana                      8.28   103
## 4 bangkok-airways                 8.12   213
## 5 indigo-airlines                 8.08   104
## 6 korean-air                      8.03   315
```

- These turned out to be Asiana Airlines, Garuda Indonesia, Air Astana, Bangkok Airways, and Indigo Airlines. 

---

class: inverse, center, middle

&lt;img src="presentation_files/figure-html/five-highest-ratings-plots-1.png" width="100%" /&gt;
---

# How does time affect the overall rating?

Main Finding: There is no significant pattern in between years or at certain times of the year. 
- One would expect airlines to offer the same service throughout each year. 

# Limitations

.pull-left[
There are some limitations that influenced the exploration of time variable.

- Uncertainty in geom_smooth function (high)
- Limited time period (2 years)
]

.pull-right[
&lt;img src="presentation_files/figure-html/five-highest-ratings-plots-with-error-1.png" width="100%" /&gt;
]


---

# Hello World

- Click the `Knit` button to compile your presentation

- Make sure to commit and push all resulting files to your GitHub repo

---

class: inverse, middle, center

# Using xaringan

---

# xaringan

- The presentation is created using the `xaringan` package

- Use `---` to separate slides and `--` for incremental builds

--

- Like this

---

# Layouts

You can use plain text

- or bullet points

.pull-left[
or text in two columns `\(^*\)`
]
.pull-right[
- like
- this
]

.footnote[
[*] And add footnotes
]

---

# Code


```r
# a boring regression
model &lt;- lm(dist ~ speed, data = cars)
tidy(model)
```

```
## # A tibble: 2 x 5
##   term        estimate std.error statistic  p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)   -17.6      6.76      -2.60 1.23e- 2
## 2 speed           3.93     0.416      9.46 1.49e-12
```

```r
glance(model)
```

```
## # A tibble: 1 x 12
##   r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC
##       &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     0.651         0.644  15.4      89.6 1.49e-12     1  -207.  419.  425.
## # … with 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;
```

---

# Plots



&lt;img src="presentation_files/figure-html/plot-iris-1.png" width="80%" /&gt;

---

## Plot and text

.pull-left[
- Some text
- goes here
]
.pull-right[
&lt;img src="presentation_files/figure-html/unnamed-chunk-1-1.png" width="100%" /&gt;
]

---

# Tables

If you want to generate a table, make sure it is in the HTML format (instead of Markdown or other formats), e.g.,



---

# Images

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="https://images.unsplash.com/photo-1535448033526-c0e85c9e6968?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1650&amp;q=80" alt="Image credit: Photo by Jörg Angeli on Unsplash." width="60%" /&gt;
&lt;p class="caption"&gt;Image credit: Photo by Jörg Angeli on Unsplash.&lt;/p&gt;
&lt;/div&gt;

Or you can also include a full page image. See next slide.

---

background-image: url(https://images.unsplash.com/photo-1535448033526-c0e85c9e6968?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1650&amp;q=80)

---

# Math Expressions

You can write LaTeX math expressions inside a pair of dollar signs, e.g. &amp;#36;\alpha+\beta$ renders `\(\alpha+\beta\)`. You can use the display style with double dollar signs:

```
$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$
```

`$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$`

Limitations:

1. The source code of a LaTeX math expression must be in one line, unless it is inside a pair of double dollar signs, in which case the starting `$$` must appear in the very beginning of a line, followed immediately by a non-space character, and the ending `$$` must be at the end of a line, led by a non-space character;

1. There should not be spaces after the opening `$` or before the closing `$`.

1. Math does not work on the title slide (see [#61](https://github.com/yihui/xaringan/issues/61) for a workaround).

---

# Feeling adventurous?

- Want to find out more about `xaringan`? See https://slides.yihui.name/xaringan/#1.

- You are welcomed to use the default styling of the slides. In fact, that's what I expect majority of you will do. You will differentiate yourself with the content of your presentation.

- But some of you might want to play around with slide styling. The 
`xaringanthemer` provides some solutions for this that: https://pkg.garrickadenbuie.com/xaringanthemer.

- And if you want more bells and whistles, there is also `xaringanExtra`: https://pkg.garrickadenbuie.com/xaringanExtra.

---
# Question 1

Question: How does the overall ratings for airlines change depending of the time of year? Do these patterns repeat every year? Which traveller type is present during which time of the year?

---
# Question 2

To what extent do passengers in first class give better ratings
than passengers in other cabin types? 
Note: There are 4 different cabins in this dataset ( First class, Business Class, Premium Economy, Economy)

Let's look at the average overall rating the passengers gave for each of the classes. 
Hypothesis: We expect first class to have a higher rating since, as per the norm, first class is considered to be the most preferable one.


```
## # A tibble: 4 x 2
##   cabin_flown     mean_overall_rating
##   &lt;chr&gt;                         &lt;dbl&gt;
## 1 Business Class                 6.87
## 2 First Class                    6.65
## 3 Economy                        5.97
## 4 Premium Economy                5.86
```

Business class has received the highest amount of rating. It is closely followed by 
First class. This doesn't match our hypothesis. 

Is this because passengers feel the business class services are better or fewer people choose
to travel in first class?
Let's find out!

---




```
## # A tibble: 4 x 2
## # Groups:   cabin_flown [4]
##   cabin_flown         n
##   &lt;chr&gt;           &lt;int&gt;
## 1 Economy         26429
## 2 Business Class   6133
## 3 Premium Economy  1445
## 4 First Class       846
```

Now, it is obvious that first class has a lower rating compared to business 
class since fewer passengers chose that cabin type. 


---

<<<<<<< HEAD
# Question 3


```r
rep_rating&lt;-airline%&gt;%
  mutate(duplicate = duplicated(.$author))%&gt;%
  filter(duplicate)

rep_rating_airline &lt;-airline%&gt;%
  group_by(author)%&gt;%
  mutate(duplicate = duplicated(airline_name))%&gt;%
  filter(duplicate)%&gt;%
  arrange(date)

rep_rating_airline%&gt;%
  summarize(count = n())%&gt;%
  ggplot(aes(x=count))+
  geom_histogram()
```

```
## `summarise()` ungrouping output (override with `.groups` argument)
```

```
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
```

&lt;img src="presentation_files/figure-html/unnamed-chunk-5-1.png" width="80%" /&gt;
We can see that not may reviewers review the same airline more than once 

```r
rep_rating_airline%&gt;%
  group_by(author)%&gt;%
  summarize(count = n())%&gt;%
  filter(count == max(count))
```

```
## `summarise()` ungrouping output (override with `.groups` argument)
```

```
## # A tibble: 1 x 2
##   author          count
##   &lt;chr&gt;           &lt;int&gt;
## 1 Anders Pedersen    39
```

=======
# Do airline improve their rating with a particular customer over time
First we need to filter out all the reviewers who didn't rate a airline twice
>>>>>>> e6a3165f5511d6fd2db7d5dc922703fd4762a186

```r
author_more_than_once &lt;-airline%&gt;%
  mutate(duplicate_auth = duplicated(.$author))%&gt;%
  filter(duplicate_auth)%&gt;%
  group_by(airline_name,author)%&gt;%
  mutate(count = n())%&gt;%
  filter(count&gt;1)%&gt;%
  ungroup()
```
after filtering out the reviewers who didn't rate a single airline more than once we are left with 3640 and 871 unique authors
---
&lt;img src="presentation_files/figure-html/repeated-rating-distribution-1.png" width="80%" /&gt;
- significantly right skewed
- most rate only twice
- hardly any people rate one airline more than 10 times
---
# Definition of improvement
- sign of linear fit slope
- 3 levels 
  - -1 - got worse
  - 0 - no improvement
  - 1 - improvement
  
.pull-left[
&lt;img src="presentation_files/figure-html/postive-slope-1.png" width="80%" /&gt;
]
.pull-right[
&lt;img src="presentation_files/figure-html/negative-slope-1.png" width="80%" /&gt;
]
---



<<<<<<< HEAD
&lt;img src="presentation_files/figure-html/unnamed-chunk-7-1.png" width="80%" /&gt;
we can see that not many people rate a singe airline more than once
=======
>>>>>>> e6a3165f5511d6fd2db7d5dc922703fd4762a186






<<<<<<< HEAD
=======
```r
data.frame(list_slopes[1])%&gt;%
  filter(model.estimate&lt;0)
```
>>>>>>> 8d79f18389dac9574a496f4d392bb2bebe6ed8c6





&lt;img src="presentation_files/figure-html/unnamed-chunk-6-1.png" width="80%" /&gt;
- we are not interested in the particular airlines but in what drives the improvement
---
Comparing the correlation coefficients between improvements in various ratings and improvements in overall rating gives a comprehensive overview of how strongly do various factors impact the overall rating




```r
joint_improvements%&gt;%
  select(rating_cols)%&gt;%
  correlate()%&gt;%
  select(term, overall_rating_improvement)
```

```
## # A tibble: 6 x 2
##   term                                      overall_rating_improvement
##   &lt;chr&gt;                                                          &lt;dbl&gt;
## 1 overall_rating_improvement                                    NA    
## 2 cabin_staff_rating_improvement                                 0.464
## 3 food_beverages_rating_improvement                              0.378
## 4 seat_comfort_rating_improvement                                0.310
## 5 inflight_entertainment_rating_improvement                      0.166
## 6 value_money_rating_improvement                                 0.442
```
<<<<<<< HEAD


```r
df2 &lt;- df2%&gt;%
  filter(model.term == "date")%&gt;%
  mutate(improvement=sign(model.estimate))%&gt;%  #did they improve or not
  group_by(airline_name)%&gt;%
  mutate(mean_improvement = mean(improvement))

df2$airline_name = reorder(df2$airline_name, df2$mean_improvement)

df2%&gt;%
  filter(!is.na(mean_improvement))%&gt;%
  ggplot(aes(x = mean_improvement))+
  geom_histogram(bins = 10)
```

&lt;img src="presentation_files/figure-html/unnamed-chunk-11-1.png" width="80%" /&gt;


We can see that most airlines don't improve from flight to flight but with the improvement mean being 0.0576923




=======
- cabin staff rating correlates the strongest with the improvement in overall rating
- inflight entartainement rating correlates the least
>>>>>>> e6a3165f5511d6fd2db7d5dc922703fd4762a186


---
# Question 4




```r
airline_rating &lt;- airline %&gt;%
select(airline_name, overall_rating, author, date) %&gt;%
  rename(airline_rating = "overall_rating",
         date_airline = "date")

lounge_rating &lt;- lounge %&gt;%
select(airline_name, overall_rating, author, date) %&gt;%
  rename(lounge_rating = "overall_rating",
         date_lounge = "date")

seat_rating &lt;- seat %&gt;%
select(airline_name, overall_rating, author, date) %&gt;%
  rename(seat_rating = "overall_rating",
         date_seat = "date")
```


```r
airline_lounge &lt;- full_join(lounge_rating, airline_rating) %&gt;%
  na.omit()
```

```
## Joining, by = c("airline_name", "author")
```

```r
airline_lounge
```

```
## # A tibble: 1,058 x 6
##    airline_name lounge_rating author     date_lounge airline_rating date_airline
##    &lt;chr&gt;                &lt;dbl&gt; &lt;chr&gt;      &lt;date&gt;               &lt;dbl&gt; &lt;date&gt;      
##  1 aer-lingus               4 Alan Wan   2014-10-28               7 2014-10-31  
##  2 aer-lingus               2 Sean Leon… 2013-11-15               9 2015-01-14  
##  3 aer-lingus               2 Sean Leon… 2013-11-15               5 2013-10-16  
##  4 aer-lingus               2 Sean Leon… 2013-11-15               9 2013-01-22  
##  5 aer-lingus               3 F Hogan    2013-04-04               6 2013-04-01  
##  6 aer-lingus               4 Alan Wan   2012-09-10               7 2014-10-31  
##  7 aer-lingus               3 Alan Wan   2012-09-10               7 2014-10-31  
##  8 aer-lingus               4 Patrick J… 2011-09-13              10 2013-03-21  
##  9 aer-lingus               2 Patrick J… 2009-03-18              10 2013-03-21  
## 10 aer-lingus               2 Patrick J… 2009-03-18              10 2013-03-21  
## # … with 1,048 more rows
```



```r
airline_lounge_seat &lt;- full_join(airline_lounge, seat_rating) %&gt;%
  na.omit()
```

```
## Joining, by = c("airline_name", "author")
```

```r
airline_lounge_seat &lt;- airline_lounge_seat[, c(1, 3, 5, 2, 7, 4, 6, 8)]

airline_lounge_seat
```

```
## # A tibble: 81 x 8
##    airline_name author airline_rating lounge_rating seat_rating date_lounge
##    &lt;chr&gt;        &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt; &lt;date&gt;     
##  1 air-france   C Waj…              2             4           3 2014-03-11 
##  2 air-france   C Waj…              3             4           3 2014-03-11 
##  3 air-france   C Waj…              9             4           3 2014-03-11 
##  4 air-france   C Waj…              2             3           3 2013-12-23 
##  5 air-france   C Waj…              3             3           3 2013-12-23 
##  6 air-france   C Waj…              9             3           3 2013-12-23 
##  7 air-france   C Waj…              2             4           3 2013-05-29 
##  8 air-france   C Waj…              3             4           3 2013-05-29 
##  9 air-france   C Waj…              9             4           3 2013-05-29 
## 10 air-france   C Waj…              2             3           3 2012-09-10 
## # … with 71 more rows, and 2 more variables: date_airline &lt;date&gt;,
## #   date_seat &lt;date&gt;
```



```r
als_overall_rating &lt;- airline_lounge_seat %&gt;%
  pivot_longer(cols = c("airline_rating", "seat_rating", "lounge_rating"), values_to = ("overall_rating")) %&gt;%
   rename(rating_type = "name") %&gt;%
  mutate(
    date = case_when(
      rating_type == "airline_rating" ~ date_airline,
      rating_type == "seat_rating"    ~ date_seat,
      rating_type == "lounge_rating"  ~ date_lounge
    )) %&gt;%
  select(airline_name, author, rating_type, overall_rating, date) %&gt;%
  distinct()

als_overall_rating
```

```
## # A tibble: 75 x 5
##    airline_name author     rating_type    overall_rating date      
##    &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;                   &lt;dbl&gt; &lt;date&gt;    
##  1 air-france   C Wajsberg airline_rating              2 2014-05-05
##  2 air-france   C Wajsberg seat_rating                 3 2014-01-10
##  3 air-france   C Wajsberg lounge_rating               4 2014-03-11
##  4 air-france   C Wajsberg airline_rating              3 2014-04-21
##  5 air-france   C Wajsberg airline_rating              9 2013-10-22
##  6 air-france   C Wajsberg lounge_rating               3 2013-12-23
##  7 air-france   C Wajsberg lounge_rating               4 2013-05-29
##  8 air-france   C Wajsberg lounge_rating               3 2012-09-10
##  9 air-france   C Wajsberg lounge_rating               3 2012-01-30
## 10 air-france   C Wajsberg lounge_rating               2 2012-01-25
## # … with 65 more rows
```


```r
als_with_mean &lt;- als_overall_rating %&gt;%
  group_by(author, rating_type) %&gt;%
  mutate(mean_overall_rating = mean(overall_rating)) %&gt;%
  select(airline_name, author, rating_type,mean_overall_rating) %&gt;%
  distinct()

als_with_mean
```

```
## # A tibble: 39 x 4
## # Groups:   author, rating_type [39]
##    airline_name           author     rating_type    mean_overall_rating
##    &lt;chr&gt;                  &lt;chr&gt;      &lt;chr&gt;                        &lt;dbl&gt;
##  1 air-france             C Wajsberg airline_rating                4.67
##  2 air-france             C Wajsberg seat_rating                   3   
##  3 air-france             C Wajsberg lounge_rating                 3.17
##  4 asiana-airlines        J Min      airline_rating                8.92
##  5 asiana-airlines        J Min      seat_rating                  10   
##  6 asiana-airlines        J Min      lounge_rating                 4   
##  7 british-airways        B Harrison airline_rating                2   
##  8 british-airways        B Harrison seat_rating                   2   
##  9 british-airways        B Harrison lounge_rating                 1   
## 10 cathay-pacific-airways S Howard   airline_rating                9.57
## # … with 29 more rows
```



```r
 als_with_mean_difference &lt;- als_with_mean %&gt;%
pivot_wider(names_from = rating_type, values_from = mean_overall_rating) %&gt;%
mutate(percentage_difference_in_airline_and_lounge_rating = (airline_rating-lounge_rating)/10*100,
       percentage_difference_in_airline_and_seat_rating = (airline_rating-seat_rating)/10*100)

als_with_mean_difference
```

```
## # A tibble: 13 x 7
## # Groups:   author [13]
##    airline_name author airline_rating seat_rating lounge_rating percentage_diff…
##    &lt;chr&gt;        &lt;chr&gt;           &lt;dbl&gt;       &lt;dbl&gt;         &lt;dbl&gt;            &lt;dbl&gt;
##  1 air-france   C Waj…           4.67           3          3.17             15. 
##  2 asiana-airl… J Min            8.92          10          4                49.2
##  3 british-air… B Har…           2              2          1                10  
##  4 cathay-paci… S How…           9.57           1          1                85.7
##  5 british-air… K Lee            5              3          4                10  
##  6 cathay-paci… Jerem…           7.67           9          4                36.7
##  7 malaysia-ai… Colin…           8              7          3                50  
##  8 qantas-airw… Craig…           7              2          4.17             28.3
##  9 qantas-airw… Jim A…           9.5            4          5                45  
## 10 qatar-airwa… Willy…           9              9          4                50  
## 11 singapore-a… P Bor…           3              1          2                10  
## 12 singapore-a… Caspe…           6              5          4                20  
## 13 singapore-a… Micha…           6              3          3                30  
## # … with 1 more variable:
## #   percentage_difference_in_airline_and_seat_rating &lt;dbl&gt;
```


```r
abs_data &lt;- als_with_mean_difference %&gt;%
  mutate(abs_percentage_difference_in_airline_and_seat_rating = abs(percentage_difference_in_airline_and_seat_rating)) %&gt;%
  select(airline_name, author, airline_rating, seat_rating, lounge_rating, percentage_difference_in_airline_and_lounge_rating, abs_percentage_difference_in_airline_and_seat_rating)

abs_data
```

```
## # A tibble: 13 x 7
## # Groups:   author [13]
##    airline_name author airline_rating seat_rating lounge_rating percentage_diff…
##    &lt;chr&gt;        &lt;chr&gt;           &lt;dbl&gt;       &lt;dbl&gt;         &lt;dbl&gt;            &lt;dbl&gt;
##  1 air-france   C Waj…           4.67           3          3.17             15. 
##  2 asiana-airl… J Min            8.92          10          4                49.2
##  3 british-air… B Har…           2              2          1                10  
##  4 cathay-paci… S How…           9.57           1          1                85.7
##  5 british-air… K Lee            5              3          4                10  
##  6 cathay-paci… Jerem…           7.67           9          4                36.7
##  7 malaysia-ai… Colin…           8              7          3                50  
##  8 qantas-airw… Craig…           7              2          4.17             28.3
##  9 qantas-airw… Jim A…           9.5            4          5                45  
## 10 qatar-airwa… Willy…           9              9          4                50  
## 11 singapore-a… P Bor…           3              1          2                10  
## 12 singapore-a… Caspe…           6              5          4                20  
## 13 singapore-a… Micha…           6              3          3                30  
## # … with 1 more variable:
## #   abs_percentage_difference_in_airline_and_seat_rating &lt;dbl&gt;
```



```r
abs_data %&gt;%
  ggplot(mapping = aes(x = author, 
                      y = percentage_difference_in_airline_and_lounge_rating )) + 
  geom_bar(stat = "identity") +
  labs(title = "Difference in the Ratings between Airline and Lounge",
       x = "Author",
       y = "% Difference") 
```

&lt;img src="presentation_files/figure-html/graph-airline-and-lounge-ratings-1.png" width="80%" /&gt;


```r
abs_data %&gt;%
  ggplot(mapping = aes(x = author, 
                      y = abs_percentage_difference_in_airline_and_seat_rating )) + 
  geom_bar(stat = "identity") +
  labs(title = "Difference in the Ratings between Airline and Seat",
       x = "Author",
       y = "% Difference") 
```

&lt;img src="presentation_files/figure-html/graph-airline-and-seat-ratings-1.png" width="80%" /&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
